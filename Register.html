<!DOCTYPE html>
<html>
<head>
  <!-- Imports -->
  <link rel="stylesheet" href="Main.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@500&display=swap" rel="stylesheet">
  <div class="header">

    <div class="left">
      <div class = "text">
        <i class="fa fa-code" aria-hidden="true">
          DEVELOPER
        </i>
      </div>
    </div>

    <div class="centertop">
      <button class = "registerbutton" type="button" id = "home">
        <script type="text/javascript">
          document.getElementById("home").onclick = function () {
          location.href = "index.html";
          };
        </script>
        <div class="centerText">
            DOABLE
        </div>
      </button>
    </div>

    <div class = "right">

    </div>
  </div>
</head>

<body>
  <div class = "container">

  <div class = center>
    <div class = "card">
          <div class = "login">
            Register
          </div>
          <br>
          <div class = "fields">
              <div class = "fontuser">
                <input class = "inputField" type="text" id="username" name="username" placeholder="Enter username">
                <i class="fas fa-user"></i>
                <br><br>
                <input class = "inputField" type="text" id="password" name="password" placeholder="Password">
                <i class="fas fa-lock"></i>
                <br><br>
                <input class = "inputField" type="text" id="email" name="email" placeholder="Email">
                <i class="fas fa-envelope-square"></i>
              </div>
                <br/>
              <button class = "submitButton"  id = "registerButton"> Submit </button>
              <script type="text/javascript">


                function registerData(obj){
                  this.username = obj.username;
                  this.password = obj.password;
                  this.email = obj.email;
                }


                document.getElementById("registerButton").onclick = function () {
                  var username = document.getElementById("username").value;
                  var password = document.getElementById("password").value;
                  var email = document.getElementById("email").value;

                  var register_url = 'https://localhost:8080/api/register';

                  var register = new registerData({
                    username: username,
                    password: password,
                    email: email
                  });

                  console.log(JSON.stringify(register));

                  fetch(register_url, {
                    method: 'POST',
                    body: JSON.stringify(register),
                  })
                  .then(response => respone.json())
                  .then(register => {
                    console.log('Success:', register);
                  })
                  .catch((error) => {
                    console.error('Error:', error);
                  });
                };

            </script>
          </div>
        <div>
    </div>
  </div>
</body>
